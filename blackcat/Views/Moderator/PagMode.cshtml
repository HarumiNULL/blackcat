
@{
    ViewBag.Title = "title";
    Layout = "_Layout";
}

<h2>Bienvenido Moderador</h2>

<div class="row mt-5 align-items-start">
    <!-- Columna izquierda: Botones verticales -->
    <div class="col-md-4 d-flex flex-column gap-3">
        <!-- Botón 1 -->
        <div class="dropdown">
            <button class="bg-secondary-custom dropdown-toggle btn-opciones-grande" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
                Reglamento
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a class="dropdown-item" href="@Url.Action("CreateRuleMod","Moderator")">Redactar reglas</a></li>
                <li><a class="dropdown-item" href="@Url.Action("ViewRuleMod","Moderator")">Ver reglas</a></li>
                <li><a class="dropdown-item" href="@Url.Action("DeleteRuleMod","Moderator")">Eliminar reglas</a></li>
            </ul>
        </div>

        <!-- Botón 2 -->
        <div class="dropdown">
            <button class="bg-secondary-custom dropdown-toggle btn-opciones-grande" type="button" id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
                Gestión de Anuncios
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                <li><a class="dropdown-item" href="@Url.Action("CreateAdsMod","Moderator")">Agregar Anuncio</a></li> 
                <li><a class="dropdown-item" href="@Url.Action("ViewAdsMod","Moderator")">Ver anuncios</a></li>           
                <li><a class="dropdown-item" href="@Url.Action("DeleteAdsMod","Moderator")">Eliminar anuncios</a></li>   
            </ul>
        </div>
    </div>

    <!-- Columna derecha: Notas -->
    <div class="col-md-8 d-flex justify-content-center">
        <div class="bg-primary-custom p-4 rounded-4 shadow-lg position-relative border border-dark" style="width: 85%;">

            <!-- Gato en la esquina superior derecha -->
            <img src="~/icons/gato.ico" alt="gatito"
                 style="width: 50px; position: absolute; top: 10px; right: 10px;">

            <h5 class="mb-4 text-center fw-bold">
                📝 <span style="border-bottom: 2px solid black;">Notas:</span>
            </h5>

            <form id="notaForm" method="post">
                <textarea id="contenidoNota" name="contenido" class="form-control mb-4 border border-dark" rows="6"
              placeholder="Escribe tus notas aquí..." style="resize: none;">@Model?.Descrip</textarea>

                <input type="hidden" name="accion" id="accionHidden" />

                <div class="d-flex justify-content-between align-items-center mt-4">
                    <button type="button" class="btn btn-outline-danger border border-dark" onclick="enviarFormulario('borrar')">🗑 Borrar</button>

                    <div class="d-flex gap-2">
                        <button type="button" class="btn btn-outline-primary border border-dark" onclick="enviarFormulario('guardar')">💾 Guardar</button>
                    </div>
                </div>
            </form>
        </div>

    </div>
</div>

<script>
    function enviarFormulario(accion) {
        document.getElementById('accionHidden').value = accion;
        document.getElementById('notaForm').action = '/Moderator/GestionarNota'; // Ajusta el endpoint si es diferente
        document.getElementById('notaForm').submit();
    }
</script>
